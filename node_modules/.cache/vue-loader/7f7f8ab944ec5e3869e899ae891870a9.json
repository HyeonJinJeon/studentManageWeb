{"remainingRequest":"/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jicode/__run/project/src/views/ManageStudent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jicode/__run/project/src/views/ManageStudent.vue","mtime":1672999766598},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js","mtime":1672636077430},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js","mtime":1672636088858}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwoKaW1wb3J0IHtmaXJlYmFzZX0gZnJvbSAnQC9maXJlYmFzZS9maXJlYmFzZUNvbmZpZyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01hbmFnZVN0dWRlbnQnLAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIGZiQ29sbGVjdGlvbjogJ3N0dWRlbnRzJywKICAgICAgZG9jSWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgcm93OiB7fSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQoKXsKICAgICAgdGhpcy5nZXREYXRhKCkKICAgIH0sCiAgICBnZXREYXRhKCl7CiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOwogICAgICBjb25zdCBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwogICAgICBkYi5jb2xsZWN0aW9uKHNlbGYuZmJDb2xsZWN0aW9uKQogICAgICAgICAgLmRvYyh0aGlzLmRvY0lkKQogICAgICAgICAgLmdldCgpCiAgICAgICAgICAudGhlbigoc25hcHNob3QpICA9PiB7CiAgICAgICAgICAgIGNvbnN0IF9kYXRhID0gc25hcHNob3QuZGF0YSgpOwogICAgICAgICAgICB0aGlzLnJvdyA9IF9kYXRhCiAgICAgICAgICB9KQogICAgfSwKICAgIGRlbGV0ZVN0dWRlbnQoKXsKICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7CiAgICAgIGNvbnN0IGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CiAgICAgIGRiLmNvbGxlY3Rpb24oc2VsZi5mYkNvbGxlY3Rpb24pCiAgICAgICAgICAuZG9jKHRoaXMuZG9jSWQpCiAgICAgICAgICAuZGVsZXRlKCkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgYWxlcnQoIuyCreygnCDsmYTro4wiKQogICAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCgnL2hvbWUnKQogICAgICAgICAgfSkKICAgIH0sCiAgICBtb2RpZnlTdHVkZW50KCl7CiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOwogICAgICBjb25zdCBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwogICAgICBkYi5jb2xsZWN0aW9uKHNlbGYuZmJDb2xsZWN0aW9uKQogICAgICAgICAgLmRvYyh0aGlzLmRvY0lkKQogICAgICAgICAgLnVwZGF0ZSh7CiAgICAgICAgICAgIG5hbWU6IHNlbGYucm93Lm5hbWUsCiAgICAgICAgICAgIGdyYWRlOiBzZWxmLnJvdy5ncmFkZSwKICAgICAgICAgICAgZ2VuZGVyOiBzZWxmLnJvdy5nZW5kZXIsCiAgICAgICAgICAgIHRlYW06IHNlbGYucm93LnRlYW0sCiAgICAgICAgICAgIHBob25lTnVtOiBzZWxmLnJvdy5waG9uZU51bSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCLsiJjsoJUg7JmE66OMIikKICAgICAgICAgICAgc2VsZi4kcm91dGVyLnB1c2goJy9ob21lJykKICAgICAgICAgIH0pCiAgICB9LAogICAgZ29CYWNrKCl7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpCiAgICB9LAogICAgbG9nT3V0KCl7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc3Qgc2VsZiA9IHRoaXM7CiAgICBzZWxmLmluaXQoKTsKICB9LAogIGNvbXBvbmVudHM6IHsKCiAgfQp9Cg=="},{"version":3,"sources":["ManageStudent.vue"],"names":[],"mappings":";AA2BA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ManageStudent.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n      <a class=\"navbar-brand\" href=\"#\">학생 관리 시스템</a>\n      <b-button variant=\"danger\" @click=\"logOut\"> 로그아웃 </b-button>\n\n    </nav>\n    <h4>이름</h4>\n    <input v-model=\"row.name\"><br><br>\n    <h4>학년</h4>\n    <input v-model=\"row.grade\"><br><br>\n    <h4>성별</h4>\n    <input v-model=\"row.gender\"><br><br>\n    <h4>전화번호</h4>\n    <input v-model=\"row.phoneNum\"><br><br>\n    <h4>등급</h4>\n    <input v-model=\"row.team\" type=\"radio\" name=\"team\" value=\"A\"> A\n    <input v-model=\"row.team\" type=\"radio\" name=\"team\" value=\"B\"> B\n    <input v-model=\"row.team\" type=\"radio\" name=\"team\" value=\"C\"> C\n    <input v-model=\"row.team\" type=\"radio\" name=\"team\" value=\"\"> 미지정<br><br>\n    <b-button variant=\"success\" @click=\"modifyStudent\">수정완료</b-button>\n    <b-button variant=\"danger\" @click=\"deleteStudent\">삭제하기</b-button>\n    <b-button variant=\"primary\" @click=\"goBack\">뒤로가기</b-button>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport {firebase} from '@/firebase/firebaseConfig';\n\nexport default {\n  name: 'ManageStudent',\n  data(){\n    return {\n      fbCollection: 'students',\n      docId: this.$route.params.id,\n      row: {},\n    }\n  },\n  methods: {\n    init(){\n      this.getData()\n    },\n    getData(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(this.docId)\n          .get()\n          .then((snapshot)  => {\n            const _data = snapshot.data();\n            this.row = _data\n          })\n    },\n    deleteStudent(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(this.docId)\n          .delete()\n          .then(() => {\n            alert(\"삭제 완료\")\n            self.$router.push('/home')\n          })\n    },\n    modifyStudent(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(this.docId)\n          .update({\n            name: self.row.name,\n            grade: self.row.grade,\n            gender: self.row.gender,\n            team: self.row.team,\n            phoneNum: self.row.phoneNum,\n          })\n          .then(() => {\n            alert(\"수정 완료\")\n            self.$router.push('/home')\n          })\n    },\n    goBack(){\n      this.$router.push('/home')\n    },\n    logOut(){\n      firebase.auth().signOut()\n      this.$router.push('/login')\n    }\n  },\n  mounted() {\n    const self = this;\n    self.init();\n  },\n  components: {\n\n  }\n}\n</script>\n"]}]}