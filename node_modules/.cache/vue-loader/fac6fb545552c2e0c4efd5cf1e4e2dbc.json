{"remainingRequest":"/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jicode/__run/project/src/views/PostModify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jicode/__run/project/src/views/PostModify.vue","mtime":1673226599316},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js","mtime":1672636077430},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js","mtime":1672636088858}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwoKaW1wb3J0IHtmaXJlYmFzZX0gZnJvbSAnQC9maXJlYmFzZS9maXJlYmFzZUNvbmZpZyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Bvc3RNb2RpZnknLAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIHJvdzoge30sCiAgICAgIHN0dWRlbnQ6IHt9LAogICAgICBkb2NJZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICBmYkNvbGxlY3Rpb246ICdib2FyZCcsCiAgICAgIHRpdGxlOiAnJywKICAgICAgY29udGVudHM6IDAsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjYW5jbGVBZGQoKXsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9ib2FyZCcpCiAgICB9LAogICAgZ2V0U3R1ZGVudCgpewogICAgICBjb25zdCBzZWxmID0gdGhpczsKICAgICAgY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKICAgICAgZGIuY29sbGVjdGlvbignc3R1ZGVudHMnKQogICAgICAgICAgLmRvYyhzZWxmLiRzdG9yZS5zdGF0ZS51c2VyLnVpZCkKICAgICAgICAgIC5nZXQoKQogICAgICAgICAgLnRoZW4oKHNuYXBzaG90KSAgPT4gewogICAgICAgICAgICBjb25zdCBfZGF0YSA9IHNuYXBzaG90LmRhdGEoKTsKICAgICAgICAgICAgdGhpcy5zdHVkZW50ID0gX2RhdGEKICAgICAgICAgIH0pCiAgICB9LAogICAgZ2V0RGF0YSgpewogICAgICBjb25zdCBzZWxmID0gdGhpczsKICAgICAgY29uc3QgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKICAgICAgZGIuY29sbGVjdGlvbihzZWxmLmZiQ29sbGVjdGlvbikKICAgICAgICAgIC5kb2Moc2VsZi5kb2NJZCkKICAgICAgICAgIC5nZXQoKQogICAgICAgICAgLnRoZW4oKHNuYXBzaG90KSAgPT4gewogICAgICAgICAgICBjb25zdCBfZGF0YSA9IHNuYXBzaG90LmRhdGEoKTsKICAgICAgICAgICAgdGhpcy5yb3cgPSBfZGF0YQogICAgICAgICAgfSkKICAgIH0sCiAgICBtb2RpZnlQb3N0KCl7CiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOwogICAgICBjb25zdCBkYiA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwogICAgICBkYi5jb2xsZWN0aW9uKHNlbGYuZmJDb2xsZWN0aW9uKQogICAgICAgICAgLmRvYyhzZWxmLmRvY0lkKQogICAgICAgICAgLnVwZGF0ZSh7CiAgICAgICAgICAgIHRpdGxlOiBzZWxmLnJvdy50aXRsZSwKICAgICAgICAgICAgY29udGVudHM6IHNlbGYucm93LmNvbnRlbnRzLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgYWxlcnQoIuyImOyglSDsmYTro4wiKQogICAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCgnL2JvYXJkJykKICAgICAgICAgIH0pCiAgICB9LAogICAgaW5pdCgpewogICAgICB0aGlzLmdldERhdGEoKQogICAgICB0aGlzLmdldFN0dWRlbnQoKQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBzZWxmID0gdGhpczsKICAgIHNlbGYuaW5pdCgpOwogIH0sCiAgY29tcG9uZW50czogewoKICB9Cn0K"},{"version":3,"sources":["PostModify.vue"],"names":[],"mappings":";AAgBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"PostModify.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n      <a class=\"navbar-brand\" href=\"#\">학생 관리 시스템</a>\n    </nav>\n    <h4>제목</h4>\n    <input v-model=\"row.title\"><br><br>\n    <h4>내용</h4>\n    <textarea v-model=\"row.contents\"></textarea>\n    <h4>작성자: {{student.name}}</h4>\n    <b-button variant=\"success\" @click=\"modifyPost\">작성완료</b-button>\n    <b-button variant=\"danger\" @click=\"cancleAdd\">취소하기</b-button>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport {firebase} from '@/firebase/firebaseConfig';\n\nexport default {\n  name: 'PostModify',\n  data(){\n    return {\n      row: {},\n      student: {},\n      docId: this.$route.params.id,\n      fbCollection: 'board',\n      title: '',\n      contents: 0,\n    }\n  },\n  methods: {\n    cancleAdd(){\n      this.$router.push('/board')\n    },\n    getStudent(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection('students')\n          .doc(self.$store.state.user.uid)\n          .get()\n          .then((snapshot)  => {\n            const _data = snapshot.data();\n            this.student = _data\n          })\n    },\n    getData(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(self.docId)\n          .get()\n          .then((snapshot)  => {\n            const _data = snapshot.data();\n            this.row = _data\n          })\n    },\n    modifyPost(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(self.docId)\n          .update({\n            title: self.row.title,\n            contents: self.row.contents,\n          })\n          .then(() => {\n            alert(\"수정 완료\")\n            self.$router.push('/board')\n          })\n    },\n    init(){\n      this.getData()\n      this.getStudent()\n    },\n  },\n  mounted() {\n    const self = this;\n    self.init();\n  },\n  components: {\n\n  }\n}\n</script>\n"]}]}