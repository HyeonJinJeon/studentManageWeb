{"remainingRequest":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js!/Users/jicode/__run/project/node_modules/eslint-loader/index.js??ref--14-0!/Users/jicode/__run/project/src/store.js","dependencies":[{"path":"/Users/jicode/__run/project/src/store.js","mtime":1672902070454},{"path":"/Users/jicode/__run/project/babel.config.js","mtime":1626842806000},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js","mtime":1672636077430},{"path":"/Users/jicode/__run/project/node_modules/eslint-loader/index.js","mtime":1672636083264}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2ppY29kZS9fX3J1bi9wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ppY29kZS9fX3J1bi9wcm9qZWN0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB1c2VyOiBudWxsLAogICAgdG9rZW46ICcnLAogICAgY2xhaW1zOiBudWxsLAogICAgZmlyZWJhc2VMb2FkZWQ6IGZhbHNlCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXI6IGZ1bmN0aW9uIHNldFVzZXIoc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIHNldENsYWltczogZnVuY3Rpb24gc2V0Q2xhaW1zKHN0YXRlLCBjbGFpbXMpIHsKICAgICAgc3RhdGUuY2xhaW1zID0gY2xhaW1zOwogICAgfSwKICAgIHNldEZpcmViYXNlTG9hZGVkOiBmdW5jdGlvbiBzZXRGaXJlYmFzZUxvYWRlZChzdGF0ZSkgewogICAgICBzdGF0ZS5maXJlYmFzZUxvYWRlZCA9IHRydWU7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKF9yZWYsIHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0LCB0b2tlbiwgdG9rZW5SZXN1bHQsIGNsYWltczsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAvLyBmaXJlYmFzZSDqsIAg64+Z7J6R7KSR7J247KeACiAgICAgICAgICAgICAgY29tbWl0KCdzZXRGaXJlYmFzZUxvYWRlZCcpOwogICAgICAgICAgICAgIC8vIHVzZXIg7KCV67O066W8IOynkeyWtCDrhKPripTri6QuCiAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VyJywgdXNlcik7CiAgICAgICAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiB1c2VyLmdldElkVG9rZW4oKTsKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHRva2VuID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjb21taXQoJ3NldFRva2VuJywgdG9rZW4pOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICByZXR1cm4gdXNlci5nZXRJZFRva2VuUmVzdWx0KHRydWUpOwogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIHRva2VuUmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjbGFpbXMgPSB0b2tlblJlc3VsdC5jbGFpbXM7CiAgICAgICAgICAgICAgY29tbWl0KCdzZXRDbGFpbXMnLCBjbGFpbXMpOwogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfSk7"},{"version":3,"names":["Vue","Vuex","use","Store","state","user","token","claims","firebaseLoaded","mutations","setUser","setToken","setClaims","setFirebaseLoaded","actions","getUser","commit","getIdToken","getIdTokenResult","tokenResult"],"sources":["/Users/jicode/__run/project/src/store.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    user: null,\r\n    token: '',\r\n    claims: null,\r\n    firebaseLoaded: false,\r\n  },\r\n  mutations: {\r\n    setUser(state, user) {\r\n      state.user = user\r\n    },\r\n    setToken(state, token) {\r\n      state.token = token\r\n    },\r\n    setClaims(state, claims) {\r\n      state.claims = claims\r\n    },\r\n    setFirebaseLoaded(state) {\r\n      state.firebaseLoaded = true\r\n    }\r\n  },\r\n  actions: {\r\n    async getUser({commit}, user) {\r\n      // firebase 가 동작중인지\r\n      commit('setFirebaseLoaded')\r\n      // user 정보를 집어 넣는다.\r\n      commit('setUser', user)\r\n      if (!user) return false\r\n      const token = await user.getIdToken()\r\n      commit('setToken', token)\r\n      const tokenResult = await user.getIdTokenResult(true)\r\n      const claims = tokenResult.claims\r\n      commit('setClaims', claims)\r\n    }\r\n  }\r\n})\r\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AAEvBD,GAAG,CAACE,GAAG,CAACD,IAAI,CAAC;AAEb,eAAe,IAAIA,IAAI,CAACE,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,IAAI,EAAE,IAAI;IACVC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,IAAI;IACZC,cAAc,EAAE;EAClB,CAAC;EACDC,SAAS,EAAE;IACTC,OAAO,mBAACN,KAAK,EAAEC,IAAI,EAAE;MACnBD,KAAK,CAACC,IAAI,GAAGA,IAAI;IACnB,CAAC;IACDM,QAAQ,oBAACP,KAAK,EAAEE,KAAK,EAAE;MACrBF,KAAK,CAACE,KAAK,GAAGA,KAAK;IACrB,CAAC;IACDM,SAAS,qBAACR,KAAK,EAAEG,MAAM,EAAE;MACvBH,KAAK,CAACG,MAAM,GAAGA,MAAM;IACvB,CAAC;IACDM,iBAAiB,6BAACT,KAAK,EAAE;MACvBA,KAAK,CAACI,cAAc,GAAG,IAAI;IAC7B;EACF,CAAC;EACDM,OAAO,EAAE;IACDC,OAAO,yBAAWV,IAAI,EAAE;MAAA;QAAA;QAAA;UAAA;YAAA;cAAfW,MAAM,QAANA,MAAM;cACnB;cACAA,MAAM,CAAC,mBAAmB,CAAC;cAC3B;cACAA,MAAM,CAAC,SAAS,EAAEX,IAAI,CAAC;cAAA,IAClBA,IAAI;gBAAA;gBAAA;cAAA;cAAA,iCAAS,KAAK;YAAA;cAAA;cAAA,OACHA,IAAI,CAACY,UAAU,EAAE;YAAA;cAA/BX,KAAK;cACXU,MAAM,CAAC,UAAU,EAAEV,KAAK,CAAC;cAAA;cAAA,OACCD,IAAI,CAACa,gBAAgB,CAAC,IAAI,CAAC;YAAA;cAA/CC,WAAW;cACXZ,MAAM,GAAGY,WAAW,CAACZ,MAAM;cACjCS,MAAM,CAAC,WAAW,EAAET,MAAM,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAC7B;EACF;AACF,CAAC,CAAC"}]}