{"remainingRequest":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js!/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jicode/__run/project/src/views/StudentList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jicode/__run/project/src/views/StudentList.vue","mtime":1673254670998},{"path":"/Users/jicode/__run/project/babel.config.js","mtime":1626842806000},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js","mtime":1672636077430},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js","mtime":1672636088858}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCgppbXBvcnQgeyBmaXJlYmFzZSB9IGZyb20gJ0AvZmlyZWJhc2UvZmlyZWJhc2VDb25maWcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N0dWRlbnRMaXN0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmJDb2xsZWN0aW9uOiAnc3R1ZGVudHMnLAogICAgICByb3dzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvQWRkOiBmdW5jdGlvbiBnb0FkZCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9hZGQnKTsKICAgIH0sCiAgICBnZXREYXRhTGlzdDogZnVuY3Rpb24gZ2V0RGF0YUxpc3QoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CiAgICAgIGRiLmNvbGxlY3Rpb24oc2VsZi5mYkNvbGxlY3Rpb24pLmdldCgpLnRoZW4oZnVuY3Rpb24gKHF1ZXJ5U25hcHNob3QpIHsKICAgICAgICBpZiAocXVlcnlTbmFwc2hvdC5zaXplID09PSAwKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHF1ZXJ5U25hcHNob3QuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgICB2YXIgX2RhdGEgPSBkb2MuZGF0YSgpOwogICAgICAgICAgX2RhdGEuaWQgPSBkb2MuaWQ7IC8v6rCBIOycoOyggCDtlYTrk5zsl5Ag65Sw66GcIGlk6rCS7J20IOyXhuyngOunjCDsnKDsoIAg6rOg7JygIGlk66W8IOu2iOuhnOyYrCDsiJgg7J6I7J2MCiAgICAgICAgICBjb25zb2xlLmxvZyhfZGF0YSk7CiAgICAgICAgICBzZWxmLnJvd3MucHVzaChfZGF0YSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdvTWFuYWdlOiBmdW5jdGlvbiBnb01hbmFnZShpKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnTWFuYWdlU3R1ZGVudCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogdGhpcy5yb3dzW2ldLmlkCiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgdGhpcy5nZXREYXRhTGlzdCgpOwogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgIH0sCiAgICBsb2dPdXQ6IGZ1bmN0aW9uIGxvZ091dCgpIHsKICAgICAgZmlyZWJhc2UuYXV0aCgpLnNpZ25PdXQoKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzZWxmLmluaXQoKTsKICB9LAogIGNvbXBvbmVudHM6IHt9Cn07"},{"version":3,"mappings":";;;AAoCA;;AAEA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;MACAC,iCACAC,MACAC;QACA;UACA;QACA;QACAC;UACA;UACAC;UACAC;UACAC;QACA;MACA;IACA;IACAC;MACA;QAAAd;QAAAe;UAAAC;QAAA;MAAA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;MACA;IACA;EACA;EACAC;IACA;IACAR;EACA;EACAS,aAEA;AACA","names":["name","data","fbCollection","rows","methods","goAdd","getDataList","db","get","then","querySnapshot","_data","console","self","goManage","params","id","init","goBack","logOut","firebase","mounted","components"],"sourceRoot":"src/views","sources":["StudentList.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n      <a class=\"navbar-brand\" href=\"#\">학생 관리 시스템</a>\n      <b-button variant=\"danger\" @click=\"logOut\"> 로그아웃 </b-button>\n    </nav>\n    <table class=\"table \" border=\"1\" style=\"margin-left: auto; margin-right: auto;\">\n      <thead>\n      <tr>\n        <th>이름</th>\n        <th>학년</th>\n        <th>성별</th>\n        <th>등급</th>\n        <th>전화번호</th>\n        <th>id</th>\n        <th>상세 정보</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"(rows,i) in rows\" :key=\"i\">\n        <td>{{rows.name}}</td>\n        <td>{{rows.grade}}</td>\n        <td>{{rows.gender}}</td>\n        <td>{{rows.team}}</td>\n        <td>{{rows.phoneNum}}</td>\n        <td>{{rows.id}}</td>\n        <td><b-button variant=\"info\" @click=\"goManage(i)\">상세 정보</b-button></td>\n      </tr>\n      </tbody>\n    </table>\n    <b-button variant=\"primary\" @click=\"goAdd\">학생 등록</b-button>\n    <b-button variant=\"danger\" @click=\"goBack\">뒤로가기</b-button>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport {firebase} from '@/firebase/firebaseConfig';\n\nexport default {\n  name: 'StudentList',\n  data(){\n    return {\n      fbCollection: 'students',\n      rows: [],\n    }\n  },\n  methods: {\n    goAdd(){\n      this.$router.push('/add')\n    },\n    getDataList(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .get()\n          .then((querySnapshot) => {\n            if (querySnapshot.size === 0) {\n              return\n            }\n            querySnapshot.forEach((doc) => {\n              const _data = doc.data();\n              _data.id = doc.id //각 유저 필드에 따로 id값이 없지만 유저 고유 id를 불로올 수 있음\n              console.log(_data)\n              self.rows.push(_data);\n            });\n          })\n    },\n    goManage(i){\n      this.$router.push({name: 'ManageStudent', params: {id: this.rows[i].id}}).catch(()=>{});\n    },\n    init(){\n      this.getDataList()\n    },\n    goBack(){\n      this.$router.push('/home')\n    },\n    logOut(){\n      firebase.auth().signOut()\n      this.$router.push('/')\n    }\n  },\n  mounted() {\n    const self = this;\n    self.init();\n  },\n  components: {\n\n  }\n}\n</script>\n"]}]}