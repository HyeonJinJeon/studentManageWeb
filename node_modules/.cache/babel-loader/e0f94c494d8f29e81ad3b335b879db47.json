{"remainingRequest":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js!/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jicode/__run/project/src/views/SetTeam.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jicode/__run/project/src/views/SetTeam.vue","mtime":1672969892749},{"path":"/Users/jicode/__run/project/babel.config.js","mtime":1626842806000},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js","mtime":1672636077430},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js","mtime":1672636088858}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwoKLy8gaW1wb3J0IHtmaXJlYmFzZX0gZnJvbSAnQC9maXJlYmFzZS9maXJlYmFzZUNvbmZpZyc7CgppbXBvcnQgeyBmaXJlYmFzZSB9IGZyb20gJ0AvZmlyZWJhc2UvZmlyZWJhc2VDb25maWcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NldFRlYW0nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmYkNvbGxlY3Rpb246ICdzdHVkZW50cycsCiAgICAgIGRvY0lkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVpZCwKICAgICAgcm93OiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvZ091dDogZnVuY3Rpb24gbG9nT3V0KCkgewogICAgICBmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfSwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CiAgICAgIGRiLmNvbGxlY3Rpb24oc2VsZi5mYkNvbGxlY3Rpb24pLmRvYyh0aGlzLmRvY0lkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgIHZhciBfZGF0YSA9IHNuYXBzaG90LmRhdGEoKTsKICAgICAgICBfdGhpcy5yb3cgPSBfZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgbW9kaWZ5U3R1ZGVudDogZnVuY3Rpb24gbW9kaWZ5U3R1ZGVudCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CiAgICAgIGRiLmNvbGxlY3Rpb24oc2VsZi5mYkNvbGxlY3Rpb24pLmRvYyh0aGlzLmRvY0lkKS51cGRhdGUoewogICAgICAgIGdyYWRlOiBzZWxmLnJvdy5ncmFkZSwKICAgICAgICB0ZWFtOiBzZWxmLnJvdy50ZWFtCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ1RlYW0nLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlkOiBfdGhpczIuZG9jSWQKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdvQmFjazogZnVuY3Rpb24gZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ1RlYW0nLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHRoaXMuZG9jSWQKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzZWxmLmluaXQoKTsKICB9LAogIGNvbXBvbmVudHM6IHt9Cn07"},{"version":3,"mappings":";AAuBA;;AAEA;;AAEA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;MACAC,iCACAC,gBACAC,MACAC;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACAJ,iCACAC,gBACAI;QACAC;QACAC;MACA,GACAJ;QACA;UAAAb;UAAAkB;YAAAC;UAAA;QAAA;MACA;IACA;IACAC;MACA;QAAApB;QAAAkB;UAAAC;QAAA;MAAA;IACA;EACA;EACAE;IACA;IACAC;EACA;EACAC,aAEA;AACA","names":["name","data","fbCollection","docId","row","methods","logOut","firebase","init","getData","db","doc","get","then","modifyStudent","update","grade","team","params","id","goBack","mounted","self","components"],"sourceRoot":"src/views","sources":["SetTeam.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n      <a class=\"navbar-brand\" href=\"#\">학생 관리 시스템</a>\n      <b-button variant=\"danger\" @click=\"logOut\"> 로그아웃 </b-button>\n    </nav>\n    <p>학급 등록 및 수정</p>\n    <h4>이름: {{row.name}}</h4>\n    <h4>성별: {{row.gender}}</h4>\n    <h4>학년</h4>\n    <input v-model=\"row.phoneNum\"><br><br>\n    <h4>학년</h4>\n    <h4>{{row.grade}}</h4>\n    <h4>등급</h4>\n    <input v-model=\"row.team\" type=\"radio\" name=\"team\" value=\"A\"> A\n    <input v-model=\"row.team\" type=\"radio\" name=\"team\" value=\"B\"> B\n    <input v-model=\"row.team\" type=\"radio\" name=\"team\" value=\"C\"> C<br><br>\n    <b-button variant=\"success\" @click=\"modifyStudent\">수정완료</b-button>\n    <b-button variant=\"primary\" @click=\"goBack\">뒤로가기</b-button>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\n// import {firebase} from '@/firebase/firebaseConfig';\n\nimport {firebase} from '@/firebase/firebaseConfig';\n\nexport default {\n  name: 'SetTeam',\n  data(){\n    return {\n      fbCollection: 'students',\n      docId: this.$store.state.user.uid,\n      row: {},\n    }\n  },\n  methods: {\n    logOut(){\n      firebase.auth().signOut()\n      this.$router.push('/')\n    },\n    init(){\n      this.getData()\n    },\n    getData(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(this.docId)\n          .get()\n          .then((snapshot)  => {\n            const _data = snapshot.data();\n            this.row = _data\n          })\n    },\n    modifyStudent(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(this.docId)\n          .update({\n            grade: self.row.grade,\n            team: self.row.team,\n          })\n          .then(() => {\n            this.$router.push({name: 'Team', params: {id: this.docId}}).catch(()=>{});\n          })\n    },\n    goBack(){\n      this.$router.push({name: 'Team', params: {id: this.docId}}).catch(()=>{});\n    },\n  },\n  mounted() {\n    const self = this;\n    self.init();\n  },\n  components: {\n\n  }\n}\n</script>\n"]}]}