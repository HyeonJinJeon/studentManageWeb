{"remainingRequest":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js!/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jicode/__run/project/src/views/PostWrite.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jicode/__run/project/src/views/PostWrite.vue","mtime":1673315029843},{"path":"/Users/jicode/__run/project/babel.config.js","mtime":1626842806000},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js","mtime":1672636077430},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js","mtime":1672636088858}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMKCmltcG9ydCB7IGZpcmViYXNlIH0gZnJvbSAnQC9maXJlYmFzZS9maXJlYmFzZUNvbmZpZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUG9zdFdyaXRlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm93OiB7fSwKICAgICAgZmJDb2xsZWN0aW9uOiAnYm9hcmQnLAogICAgICB0aXRsZTogJycsCiAgICAgIGNvbnRlbnRzOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbmNsZUFkZDogZnVuY3Rpb24gY2FuY2xlQWRkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2JvYXJkJyk7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKICAgICAgZGIuY29sbGVjdGlvbignc3R1ZGVudHMnKS5kb2Moc2VsZi4kc3RvcmUuc3RhdGUudXNlci51aWQpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgICAgdmFyIF9kYXRhID0gc25hcHNob3QuZGF0YSgpOwogICAgICAgIF90aGlzLnJvdyA9IF9kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRQb3N0OiBmdW5jdGlvbiBhZGRQb3N0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvLyBzZWxm66W8IOyTsOuKlCDsnbTsnKDripQg67CU6rml7J2YIHRoaXPrk6Tqs7wg7ZaH6rCI66as7KeAIOyViuq4sCDsnITtlbTshJwKICAgICAgdmFyIGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgX2RhdGEgPSB7CiAgICAgICAgLy8gZGF0YSgp7JeQIOyeiOuKlCDrjbDsnbTthLDqsIAg67CU66GcIOuTpOyWtOqwiCDsiJgg7JeG64ukLgogICAgICAgIHRpdGxlOiBzZWxmLnRpdGxlLAogICAgICAgIGNvbnRlbnRzOiBzZWxmLmNvbnRlbnRzLAogICAgICAgIHRpbWU6IG5vdywKICAgICAgICB1aWQ6IHNlbGYuJHN0b3JlLnN0YXRlLnVzZXIudWlkLAogICAgICAgIHN0dWRlbnQ6IHsKICAgICAgICAgIG5hbWU6IHRoaXMucm93Lm5hbWUsCiAgICAgICAgICBncmFkZTogdGhpcy5yb3cuZ3JhZGUKICAgICAgICB9CiAgICAgIH07CiAgICAgIGRiLmNvbGxlY3Rpb24oc2VsZi5mYkNvbGxlY3Rpb24pIC8vPC0gY29sbGVjdGlvbign7Lus656Z7IWY66qFJykg67CU66GcIOyTuOyImOyeiOuLpC4KICAgICAgLmFkZChfZGF0YSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g7JWE66y0IOusuOygnOyXhuydtCDsnJfsqr0g7L2U65Oc6rCAIOuLpCDshLHqs7XtlZjrqbQgdGhlbuydtCDsi6TtlokKICAgICAgICBhbGVydCgi7KCA7J6l65CY7JeI7Iq164uI64ukIik7CiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL2JvYXJkJyk7CiAgICAgIH0pIC8vIOyEseqzte2VmOuptCDrrLTsl4fsnYQg7ZWg6rG07KeAIOygle2VmOuptCDrkJzri6QvIOydtCDsvZTrk5zsl5DshKAgYWxlcnTqsIAg7Iuk7ZaJ65Cc64ukCiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIC8vIOyLpO2MqO2VmOuptCBjYXRjaOqwgCDsi6TtlonrkJzri6QuIGXripQgZXJyZXLsnZgg7JW97J6QCiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgYWxlcnQoIuyggOyepeyXkCDsi6TtjKjtlojsirXri4jri6QuIik7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHNlbGYuaW5pdCgpOwogIH0sCiAgY29tcG9uZW50czoge30KfTs="},{"version":3,"mappings":";;AAgBA;;AAEA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;MACAC,0BACAC,gCACAC,MACAC;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;QAAA;QACAT;QACAC;QACAS;QACAC;QACAC;UACAhB;UACAiB;QACA;MACA;MACAR;MAAA,CACAS,WACAN;QAAA;QACAO;QACA;MACA;MAAA,CAEAC;QAAA;QACAC;QACAF;MACA;IACA;IACAG;MACA;IAEA;EACA;EACAC;IACA;IACAC;EACA;EACAC,aAEA;AACA","names":["name","data","row","fbCollection","title","contents","methods","cancleAdd","getData","db","doc","get","then","addPost","time","uid","student","grade","add","alert","catch","console","init","mounted","self","components"],"sourceRoot":"src/views","sources":["PostWrite.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n      <a class=\"navbar-brand\" href=\"#\">학생 관리 시스템</a>\n    </nav>\n    <h4>제목</h4>\n    <input v-model=\"title\"><br><br>\n    <h4>내용</h4>\n    <input type=\"textarea\" v-model=\"contents\"><br><br>\n    <h4>작성자: {{row.name}}</h4>\n    <b-button variant=\"success\" @click=\"addPost\">작성완료</b-button>\n    <b-button variant=\"danger\" @click=\"cancleAdd\">취소하기</b-button>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport {firebase} from '@/firebase/firebaseConfig';\n\nexport default {\n  name: 'PostWrite',\n  data(){\n    return {\n      row: {},\n      fbCollection: 'board',\n      title: '',\n      contents: '',\n      }\n  },\n  methods: {\n    cancleAdd(){\n      this.$router.push('/board')\n    },\n    getData(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection('students')\n          .doc(self.$store.state.user.uid)\n          .get()\n          .then((snapshot)  => {\n            const _data = snapshot.data();\n            this.row = _data\n          })\n    },\n    addPost(){\n      const self = this;         // self를 쓰는 이유는 바깥의 this들과 햇갈리지 않기 위해서\n      const db = firebase.firestore();\n      const now = new Date();\n      const _data = {            // data()에 있는 데이터가 바로 들어갈 수 없다.\n        title: self.title,\n        contents: self.contents,\n        time: now,\n        uid: self.$store.state.user.uid,\n        student: {\n          name: this.row.name,\n          grade: this.row.grade,\n        },\n      }\n      db.collection(self.fbCollection) //<- collection('컬랙션명') 바로 쓸수있다.\n          .add(_data)\n          .then(() => {            // 아무 문제없이 윗쪽 코드가 다 성공하면 then이 실행\n            alert(\"저장되었습니다\")\n            this.$router.push('/board')\n          })  // 성공하면 무엇을 할건지 정하면 된다/ 이 코드에선 alert가 실행된다\n\n          .catch((e) => {          // 실패하면 catch가 실행된다. e는 errer의 약자\n            console.log(e)\n            alert(\"저장에 실패했습니다.\")\n          })\n    },\n    init(){\n      this.getData()\n\n    },\n  },\n  mounted() {\n    const self = this;\n    self.init();\n  },\n  components: {\n\n  }\n}\n</script>\n"]}]}