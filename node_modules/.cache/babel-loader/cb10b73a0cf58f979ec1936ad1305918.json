{"remainingRequest":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js!/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jicode/__run/project/src/views/PostModify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jicode/__run/project/src/views/PostModify.vue","mtime":1673226599316},{"path":"/Users/jicode/__run/project/babel.config.js","mtime":1626842806000},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/babel-loader/lib/index.js","mtime":1672636077430},{"path":"/Users/jicode/__run/project/node_modules/cache-loader/dist/cjs.js","mtime":1672636077197},{"path":"/Users/jicode/__run/project/node_modules/vue-loader/lib/index.js","mtime":1672636088858}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwoKaW1wb3J0IHsgZmlyZWJhc2UgfSBmcm9tICdAL2ZpcmViYXNlL2ZpcmViYXNlQ29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQb3N0TW9kaWZ5JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcm93OiB7fSwKICAgICAgc3R1ZGVudDoge30sCiAgICAgIGRvY0lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgIGZiQ29sbGVjdGlvbjogJ2JvYXJkJywKICAgICAgdGl0bGU6ICcnLAogICAgICBjb250ZW50czogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNhbmNsZUFkZDogZnVuY3Rpb24gY2FuY2xlQWRkKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2JvYXJkJyk7CiAgICB9LAogICAgZ2V0U3R1ZGVudDogZnVuY3Rpb24gZ2V0U3R1ZGVudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgZGIgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKICAgICAgZGIuY29sbGVjdGlvbignc3R1ZGVudHMnKS5kb2Moc2VsZi4kc3RvcmUuc3RhdGUudXNlci51aWQpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHNuYXBzaG90KSB7CiAgICAgICAgdmFyIF9kYXRhID0gc25hcHNob3QuZGF0YSgpOwogICAgICAgIF90aGlzLnN0dWRlbnQgPSBfZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CiAgICAgIGRiLmNvbGxlY3Rpb24oc2VsZi5mYkNvbGxlY3Rpb24pLmRvYyhzZWxmLmRvY0lkKS5nZXQoKS50aGVuKGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgIHZhciBfZGF0YSA9IHNuYXBzaG90LmRhdGEoKTsKICAgICAgICBfdGhpczIucm93ID0gX2RhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIG1vZGlmeVBvc3Q6IGZ1bmN0aW9uIG1vZGlmeVBvc3QoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdmFyIGRiID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CiAgICAgIGRiLmNvbGxlY3Rpb24oc2VsZi5mYkNvbGxlY3Rpb24pLmRvYyhzZWxmLmRvY0lkKS51cGRhdGUoewogICAgICAgIHRpdGxlOiBzZWxmLnJvdy50aXRsZSwKICAgICAgICBjb250ZW50czogc2VsZi5yb3cuY29udGVudHMKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgYWxlcnQoIuyImOyglSDsmYTro4wiKTsKICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCgnL2JvYXJkJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICB0aGlzLmdldFN0dWRlbnQoKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzZWxmLmluaXQoKTsKICB9LAogIGNvbXBvbmVudHM6IHt9Cn07"},{"version":3,"mappings":";AAgBA;;AAEA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;MACAC,0BACAC,gCACAC,MACAC;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;MACAJ,iCACAC,gBACAC,MACAC;QACA;QACA;MACA;IACA;IACAE;MACA;MACA;MACAL,iCACAC,gBACAK;QACAX;QACAC;MACA,GACAO;QACAI;QACAC;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;EACAC;IACA;IACAF;EACA;EACAG,aAEA;AACA","names":["name","data","row","student","docId","fbCollection","title","contents","methods","cancleAdd","getStudent","db","doc","get","then","getData","modifyPost","update","alert","self","init","mounted","components"],"sourceRoot":"src/views","sources":["PostModify.vue"],"sourcesContent":["<template>\n  <div class=\"home\">\n    <nav class=\"navbar navbar-expand-md navbar-dark bg-dark fixed-top\">\n      <a class=\"navbar-brand\" href=\"#\">학생 관리 시스템</a>\n    </nav>\n    <h4>제목</h4>\n    <input v-model=\"row.title\"><br><br>\n    <h4>내용</h4>\n    <textarea v-model=\"row.contents\"></textarea>\n    <h4>작성자: {{student.name}}</h4>\n    <b-button variant=\"success\" @click=\"modifyPost\">작성완료</b-button>\n    <b-button variant=\"danger\" @click=\"cancleAdd\">취소하기</b-button>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nimport {firebase} from '@/firebase/firebaseConfig';\n\nexport default {\n  name: 'PostModify',\n  data(){\n    return {\n      row: {},\n      student: {},\n      docId: this.$route.params.id,\n      fbCollection: 'board',\n      title: '',\n      contents: 0,\n    }\n  },\n  methods: {\n    cancleAdd(){\n      this.$router.push('/board')\n    },\n    getStudent(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection('students')\n          .doc(self.$store.state.user.uid)\n          .get()\n          .then((snapshot)  => {\n            const _data = snapshot.data();\n            this.student = _data\n          })\n    },\n    getData(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(self.docId)\n          .get()\n          .then((snapshot)  => {\n            const _data = snapshot.data();\n            this.row = _data\n          })\n    },\n    modifyPost(){\n      const self = this;\n      const db = firebase.firestore();\n      db.collection(self.fbCollection)\n          .doc(self.docId)\n          .update({\n            title: self.row.title,\n            contents: self.row.contents,\n          })\n          .then(() => {\n            alert(\"수정 완료\")\n            self.$router.push('/board')\n          })\n    },\n    init(){\n      this.getData()\n      this.getStudent()\n    },\n  },\n  mounted() {\n    const self = this;\n    self.init();\n  },\n  components: {\n\n  }\n}\n</script>\n"]}]}